# Описание опций программы

|Options |Comments
|----|---------|  
 |***-h [ --help ]***|produce help  
  |***-i [ --include ] arg***|Include directories for scanning  
  |***-e [ --exclude ] arg***|Exclude directories from scanning  
  |***-l [ --level ] arg (=0)***|One for all directories, 0 - only the specified directory without nested  
  |***-s [ --Min_file_size ] arg (=1)***|By default, all files larger than 1 byte are checked  
  |***-m [ --file_mask ] arg (=(\w+)(\d+).(\w+)(\d+))***|File mask  
  |***-S [ --Block_size ] arg (=5)***|The size of the block used to read files  
  |***-t [ --hash_type ] arg (=crc32)***|Hashing algorithm type: md5, crc32  

# Задание 8
## bayan
### Условие  
&emsp;&emsp;Пользуясь имеющимися в библиотеке Boost структурами и алгоритмами
разработать утилиту для обнаружения файлов-дубликатов.

&emsp;&emsp;Утилита должна иметь возможность через параметры командной строки
указывать:  
- Директории для сканирования (может быть несколько)
- Директории для исключения из сканирования (может быть несколько)
- Уровень сканирования (один на все директории, 0 - только указанная
директория без вложенных)
- Минимальный размер файла, по умолчанию проверяются все файлы
больше 1 байта.
- Маски имен файлов разрешенных для сравнения (не зависят от
регистра)
- Размер блока, которым производится чтения файлов, в задании этот
размер упоминается как `S`
- Один из имеющихся алгоритмов хэширования (crc32, md5 -
конкретные варианты определить самостоятельно), в задании
эта функция упоминается как `H`.

&emsp;&emsp;Результатом работы утилиты должен быть список полных путей файлов
с идентичным содержимым, выводимый на стандартный вывод. На одной
строке один файл. Идентичные файлы должны подряд, одной группой.
Разные группы разделяются пустой строкой.

***Обязательно*** Cвойство утилиты - бережное обращение с дисковым вводом
выводом. Каждый файл может быть представлен в виде списка блоков
размера `S`. Если размер файла не кратен, он дополняется бинарными
нулями.  
Файл world.txt из одной строки `Hello, World\n` При размере блока в 5 байт, будет представлен как

>Hello  
>, Wor  
>ld\n\0\0
  
&emsp;&emsp;Каждый блок должен быть свернут выбранной функцией хэширования.
Возможные коллизии игнорируются. Из предположения, что

>H("Hello") == A  
>H(", Wor") == B  
>H("ld\n\0\0") == C  
>1

Наш файл world.txt может быть представлен в виде последовательности
ABC  
Рассмотрим второй файл `cpp.txt`

>Hello, C++\n

Который после хэширования блоков
>H("Hello") == A  
>H(", C++") == D  
>H("\n\0\0\0\0") == E
>
может быть представлен в виде последовательности ADE

&emsp;&emsp;Порядок сравнения этих файлов должен быть максимально бережным. То
есть обработка первого файла world.txt вообще не приводит к чтению с
диска, ведь нам еще не с чем сравнивать. Как только мы добираемся до
файла `cpp.txt` только в этот момент происходит перое чтение первого блока
обоих файлов. В данном случае блоки идентичны, и необходимо прочесть
вторые блоки, которые уже различаются. Файлы различны, оставшиеся
данные не читаются.

&emsp;&emsp;Файлы считаются идентичными при полном совпадении последовательности
хешей блоков.
## Самоконтроль
- Блок файла читается с диска не более одного раза
- Блок файла читается только в случае необходимости
- Не забыть, что дубликатов может быть больше чем два
- Пакет bayan содержащий исполняемый файл bayan опубликован на
`bintray`
- Описание параметров в файле README.md корне репозитория
- Отправлена на проверку ссылка на страницу репозитория
## Проверка
&emsp;&emsp;Задание считается выполнено успешно, если после просмотра кода,
подключения репозитория, установки пакета и запуска бинарного файла
командой (параметры из описания):  
`$ bayan [...]`  
будут обнаружены файлы-дубликаты, без ложных срабатываний и
пропуска существующих дубликатов.
Количество прочитанных данных с диска минимально.
